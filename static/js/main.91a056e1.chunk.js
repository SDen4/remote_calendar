(this.webpackJsonpremote_calendar=this.webpackJsonpremote_calendar||[]).push([[0],{12:function(e,t,n){e.exports={cell:"columns_cell__32YGY",weekend:"columns_weekend__3-10h",headerFirstCol:"columns_headerFirstCol__2_EEi",headerTopCell:"columns_headerTopCell__1xdye",currentDate:"columns_currentDate__10MN6",red:"columns_red__3001Q"}},17:function(e,t,n){e.exports={example_wrapper:"styles_example_wrapper__27iou",example_item:"styles_example_item__13YvF",examle_empty:"styles_examle_empty__2RCxh",examle_full:"styles_examle_full__1AxDR"}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),n=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,a=String(e.getFullYear()).slice(2,4);return"".concat(t,".").concat(n,".").concat(a)}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),c=n(10),r=n(30),o=n.n(r),s=n(1),l=function(e){var t=e.buttonText,n=e.buttonType,a=e.onButtonClick,r=e.stylesButton,l=e.disabled;return Object(s.jsx)("button",{type:n,"aria-label":t,onClick:a,className:Object(c.a)(o.a.button,r),disabled:l,children:t})},u=Object(a.memo)(l)},27:function(e,t,n){e.exports={loaderWrapper:"styles_loaderWrapper__2OFeU",ldsDefault:"styles_ldsDefault__3V2fP"}},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=[{name:"Total office"},{name:"Total remote"}],c={row:"",cell:""}},30:function(e,t,n){e.exports={button:"Button_button__1Y5Fm"}},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(20),o=n.n(r),s=n(16),l=n(13),u=n(32),i=n(31),d=n(6),b=n(5),j={data:n(28).b,columns:[],firstRangeDate:null,modalFlag:!1,maxValue:1,columnsQuantity:90,loaderFlag:!0},O=Object(s.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.e:return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case b.d:return Object(d.a)(Object(d.a)({},e),{},{columns:t.columns});case b.f:return Object(d.a)(Object(d.a)({},e),{},{firstRangeDate:t.firstRangeDate});case b.i:return Object(d.a)(Object(d.a)({},e),{},{modalFlag:t.modalFlag});case b.b:return Object(d.a)(Object(d.a)({},e),{},{data:[t.newEmployee].concat(Object(i.a)(e.data))});case b.g:return Object(d.a)(Object(d.a)({},e),{},{maxValue:t.maxValue});case b.a:return Object(d.a)(Object(d.a)({},e),{},{columnsQuantity:t.columnsQuantity});case b.h:return Object(d.a)(Object(d.a)({},e),{},{loaderFlag:t.loaderFlag});default:return e}}}),m=n(15),x=n.n(m),f=n(11),_=n(10),h=n(19),p=function(e,t){for(var n=e,a=[],c=0;c<t;c++)a.push({date:Object(h.a)(new Date(n.getTime()+864e5*c)),day:new Date(n.getTime()+864e5*c).getDay()});return a},g=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e)-1]},y=n(12),v=n.n(y),w=n(1),N=function(e,t,n){if(!e)return[];for(var a=p(new Date(e),n),c=Object(h.a)(new Date),r=t||1,o=[],s=[{Header:Object(w.jsx)("div",{className:v.a.headerFirstCol,children:"Employee"}),accessor:"name"}],l=0;l<a.length;l++){var u=a[l].date.slice(3,5),i=a.length-1!==l&&a[l+1].date.slice(3,5),d=a[l].date.slice(6,8);u===i?o.push({Header:Object(w.jsx)("div",{className:Object(_.a)(0===a[l].day||6===a[l].day?v.a.weekend:"",v.a.cell,a[l].date===c&&v.a.currentDate),children:a[l].date.slice(0,2)}),accessor:"a_".concat(a[l].date.slice(0,2)).concat(a[l].date.slice(3,5)).concat(a[l].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1)return e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})).length;if(e.row.index===e.rows.length-2){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})),n=e.rows.length-t.length-2;return Object(w.jsx)("div",{className:Object(_.a)(n>r&&v.a.red),children:n})}return Object(w.jsx)("div",{children:e.value})}}):(o.push({Header:Object(w.jsx)("div",{className:Object(_.a)(0===a[l].day||6===a[l].day?v.a.weekend:"",v.a.cell),children:a[l].date.slice(0,2)}),accessor:"a_".concat(a[l].date.slice(0,2)).concat(a[l].date.slice(3,5)).concat(a[l].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1)return e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})).length;if(e.row.index===e.rows.length-2){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})),n=e.rows.length-t.length-2;return Object(w.jsx)("div",{className:Object(_.a)(n>r&&v.a.red),children:n})}return Object(w.jsx)("div",{children:e.value})}}),s.push({Header:Object(w.jsx)("div",{className:Object(_.a)(v.a.cell,v.a.headerTopCell),children:"".concat(g(u)," '").concat(d)}),accessor:u,columns:[].concat(o)}),o.length=0)}return s},k=n(7),S=x.a.mark(E),D=x.a.mark(C);function E(e){var t,n,a,c,r;return x.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,localStorage.getItem("firstRangeDate");case 3:return t=o.sent,o.next=6,JSON.parse(localStorage.getItem("calendar")||"[]");case 6:return n=o.sent,o.next=9,localStorage.getItem("maxValue");case 9:return a=o.sent,o.next=12,localStorage.getItem("columnsQuantity");case 12:if(c=o.sent,!a){o.next=18;break}return o.next=16,Object(f.c)(Object(k.f)(Number(a)));case 16:o.next=20;break;case 18:return o.next=20,localStorage.setItem("maxValue",String(e.maxValue));case 20:return o.next=22,[];case 22:if(r=o.sent,!c){o.next=28;break}return o.next=26,Object(f.c)(Object(k.g)(Number(c)));case 26:o.next=30;break;case 28:return o.next=30,localStorage.setItem("columnsQuantity",String(e.columnsQuantity));case 30:if(!t){o.next=38;break}return o.next=33,N(t,a,c||e.columnsQuantity);case 33:return r=o.sent,o.next=36,Object(f.c)(Object(k.e)(t));case 36:o.next=43;break;case 38:return o.next=40,N(new Date,e.maxValue,c||e.columnsQuantity);case 40:return r=o.sent,o.next=43,localStorage.setItem("firstRangeDate",String(new Date));case 43:return o.next=45,Object(f.c)(Object(k.c)(r));case 45:if(!n.length){o.next=50;break}return o.next=48,Object(f.c)(Object(k.d)(n));case 48:o.next=52;break;case 50:return o.next=52,localStorage.setItem("calendar",JSON.stringify(e.data));case 52:o.next=57;break;case 54:o.prev=54,o.t0=o.catch(0),console.log(o.t0);case 57:return o.prev=57,o.next=60,Object(f.c)(Object(k.h)(!1));case 60:return o.finish(57);case 61:case"end":return o.stop()}}),S,null,[[0,54,57,61]])}function C(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(b.c,E);case 2:case"end":return e.stop()}}),D)}var T=x.a.mark(F);function F(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(C)]);case 2:case"end":return e.stop()}}),T)}var R=n(25),A=n(22),B=n(27),V=n.n(B),M=function(){return Object(w.jsx)("div",{className:V.a.loaderWrapper,children:Object(w.jsxs)("div",{className:V.a.ldsDefault,children:[Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]})})},Q=n(17),I=n.n(Q),L=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Notice"}),Object(w.jsxs)("div",{className:I.a.example_wrapper,children:[Object(w.jsxs)("div",{className:I.a.example_item,children:[Object(w.jsx)("div",{className:I.a.examle_empty}),Object(w.jsx)("span",{children:"office"})]}),Object(w.jsxs)("div",{className:I.a.example_item,children:[Object(w.jsx)("div",{className:I.a.examle_empty,children:Object(w.jsx)("div",{className:I.a.examle_full})}),Object(w.jsx)("span",{children:"remote"})]})]}),Object(w.jsx)("p",{children:"You can change statuses of one employee in a few days at once by click holding 'Ctrl' button for Windows and Linux or 'Command' for MacOs"})]})},P=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducer.data})),n=Object(l.c)((function(e){return e.reducer.columnsQuantity})),c=Object(l.c)((function(e){return e.reducer.maxValue})),r=Object(a.useCallback)((function(a){a<0||(localStorage.setItem("maxValue",String(a)),e(Object(k.f)(a)),e(Object(k.b)(t,a,n)))}),[e,n,t]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:"label",children:"Set max employees in office"}),Object(w.jsx)("input",{id:"label",type:"number",min:1,value:c,onChange:function(e){return r(Number(null===e||void 0===e?void 0:e.target.value))}})]})},W=n(8),H=n.n(W),J=c.a.lazy((function(){return Promise.all([n.e(7),n.e(3)]).then(n.bind(null,54))})),Y=c.a.lazy((function(){return n.e(4).then(n.bind(null,53))})),z=c.a.lazy((function(){return n.e(5).then(n.bind(null,55))})),U=c.a.lazy((function(){return n.e(6).then(n.bind(null,56))})),G=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducer}));Object(a.useEffect)((function(){e(Object(k.b)(t.data,t.maxValue,t.columnsQuantity))}),[e]);var n=Object(a.useState)(!1),c=Object(R.a)(n,2),r=c[0],o=c[1],s=Object(a.useCallback)((function(){e(Object(k.i)(!0))}),[e]),u=Object(a.useCallback)((function(){e(Object(k.i)(!1))}),[e]),i=Object(a.useCallback)((function(){o(!r)}),[r]);Object(a.useEffect)((function(){return N(t.firstRangeDate,t.maxValue,90)}),[t.firstRangeDate,t.maxValue]);var d=Object(a.useCallback)((function(){var n=t.columnsQuantity+90;localStorage.setItem("columnsQuantity",String(n)),e(Object(k.g)(n)),e(Object(k.b)(t.data,t.maxValue,n))}),[e,t.columnsQuantity,t.data,t.maxValue]),b=Object(a.useState)(0),j=Object(R.a)(b,2),O=j[0],m=j[1];return Object(a.useEffect)((function(){return m(window.innerHeight)}),[]),window.addEventListener("resize",(function(){return m(window.outerHeight)}),!0),Object(w.jsxs)("div",{className:H.a.root,style:window.innerWidth<480?{minHeight:O}:{},children:[Object(w.jsx)("header",{children:Object(w.jsx)("h1",{children:"Remote Calendar"})}),t.loaderFlag?Object(w.jsx)(M,{}):Object(w.jsxs)(w.Fragment,{children:[t.modalFlag&&Object(w.jsx)(a.Suspense,{fallback:Object(w.jsx)(M,{}),children:Object(w.jsx)(U,{onCloseButtonClick:u,modalContent:Y})}),r&&Object(w.jsx)(a.Suspense,{fallback:Object(w.jsx)(M,{}),children:Object(w.jsx)(U,{onCloseButtonClick:i,modalContent:z})}),Object(w.jsxs)("section",{className:Object(_.a)(H.a.section,H.a.buttons),children:[Object(w.jsx)(A.a,{buttonText:"Add employee",buttonType:"button",onButtonClick:s}),t.data.length>2&&Object(w.jsx)(A.a,{buttonText:3===t.data.length?"Delete employee":"Delete all employees",buttonType:"button",onButtonClick:i,stylesButton:Object(_.a)(H.a.deleteButton,t.data.length<=2&&H.a.disabledButton),disabled:t.data.length<=2})]}),t.data.length>2&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("section",{className:Object(_.a)(H.a.section,H.a.calendar),children:[Object(w.jsx)(a.Suspense,{fallback:Object(w.jsx)(M,{}),children:Object(w.jsx)(J,{})}),Object(w.jsx)("div",{className:H.a.addPeriodButtonWrapper,children:Object(w.jsx)(A.a,{buttonText:"Add period",buttonType:"button",stylesButton:H.a.addPeriodButton,onButtonClick:d})})]}),Object(w.jsxs)("section",{className:Object(_.a)(H.a.section,H.a.sectionTotal),children:[Object(w.jsx)("span",{children:"Total employees:"}),Object(w.jsx)("span",{children:t.data.length-2})]}),Object(w.jsx)("section",{className:Object(_.a)(H.a.section,H.a.sectionMaxEmployees),children:Object(w.jsx)(P,{})}),Object(w.jsx)("section",{className:Object(_.a)(H.a.section,H.a.sectionNotice),children:Object(w.jsx)(L,{})})]})]})]})},X=(n(45),Object(u.a)()),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,K=Object(s.d)(O,q(Object(s.a)(X)));X.run(F),o.a.render(Object(w.jsx)(l.a,{store:K,children:Object(w.jsx)(G,{})}),document.getElementById("root"))},5:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var a="FETCH_SAGA",c="SAVE_ALL_DATA",r="SAVE_ALL_COLUMNS",o="SAVE_FIRST_RANGE_DATE",s="SAVE_MAX_VALUE",l="SET_MODAL_FLAG",u="SET_LOADER_FLAG",i="ADD_NEW_EMPLOYEE",d="ADD_COLUMNS_QUANTITY"},7:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return b}));var a=n(5),c=function(e,t,n){return{type:a.c,data:e,maxValue:t,columnsQuantity:n}},r=function(e){return{type:a.e,data:e}},o=function(e){return{type:a.d,columns:e}},s=function(e){return{type:a.f,firstRangeDate:e}},l=function(e){return{type:a.i,modalFlag:e}},u=function(e){return{type:a.b,newEmployee:e}},i=function(e){return{type:a.g,maxValue:e}},d=function(e){return{type:a.a,columnsQuantity:e}},b=function(e){return{type:a.h,loaderFlag:e}}},8:function(e,t,n){e.exports={root:"Root_root__3pxTf",section:"Root_section__2qrJ7",calendar:"Root_calendar__3Mnvo",buttons:"Root_buttons__34v3_",deleteButton:"Root_deleteButton__IXlIF",sectionTotal:"Root_sectionTotal__2sBkM",disabledButton:"Root_disabledButton__3-F7j",sectionMaxEmployees:"Root_sectionMaxEmployees__15T99",addPeriodButtonWrapper:"Root_addPeriodButtonWrapper__1TEqF",addPeriodButton:"Root_addPeriodButton__zSwil",sectionNotice:"Root_sectionNotice__1ufrc",loading:"Root_loading__2K_se"}}},[[46,1,2]]]);
//# sourceMappingURL=main.91a056e1.chunk.js.map