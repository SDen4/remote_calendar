(this.webpackJsonpremote_calendar=this.webpackJsonpremote_calendar||[]).push([[0],{14:function(e,t,n){e.exports={cell:"columns_cell__32YGY",weekend:"columns_weekend__3-10h",headerFirstCol:"columns_headerFirstCol__2_EEi",headerTopCell:"columns_headerTopCell__1xdye"}},15:function(e,t,n){e.exports={root_wrapper:"Root_root_wrapper__eL6rt",section_wrapper:"Root_section_wrapper__dgqip",calendar_wrapper:"Root_calendar_wrapper__1t7Ie",buttons_wrapper:"Root_buttons_wrapper__2--Nx",deleteButton:"Root_deleteButton__IXlIF"}},16:function(e,t,n){e.exports={modalContent:"ModalContent_modalContent__2Ret1",form:"ModalContent_form__169qh",labelWrapper:"ModalContent_labelWrapper__2EgFl",radioWrapper:"ModalContent_radioWrapper__2iTLh"}},23:function(e,t,n){e.exports={modalWrapper:"Modal_modalWrapper__2YViX",modal:"Modal_modal__26uN6",button:"Modal_button__36BgA"}},24:function(e,t,n){e.exports={modalContent:"ModalDelContent_modalContent__MC1xq",buttons_wrapper:"ModalDelContent_buttons_wrapper__3jGJi",deleteButton:"ModalDelContent_deleteButton__2gpJ-"}},28:function(e,t,n){e.exports={button:"Button_button__1Y5Fm"}},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(20),r=n.n(c),o=n(12),l=n(8),s=n(30),i=n(18),d=n(5),u="FETCH_SAGA",b="SAVE_ALL_DATA",j="SAVE_ALL_COLUMNS",O="SAVE_FIRST_RANGE_DATE",p="SET_MODAL_FLAG",_="ADD_NEW_EMPLOYEE",m=[{name:"Total office"},{name:"Total remote"}],f={data:m,columns:[],firstRangeDate:null,modalFlag:!1},h=Object(o.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case j:return Object(d.a)(Object(d.a)({},e),{},{columns:t.columns});case O:return Object(d.a)(Object(d.a)({},e),{},{firstRangeDate:t.firstRangeDate});case p:return Object(d.a)(Object(d.a)({},e),{},{modalFlag:t.modalFlag});case _:return Object(d.a)(Object(d.a)({},e),{},{data:[t.newEmployee].concat(Object(i.a)(e.data))});default:return e}}}),x=n(11),C=n.n(x),g=n(13),v=n(7),y=function(e){var t=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),n=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,a=String(e.getFullYear()).slice(2,4);return"".concat(t,".").concat(n,".").concat(a)},w=function(e){for(var t=e,n=[],a=0;a<60;a++)n.push({date:y(new Date(t.getTime()+864e5*a)),day:new Date(t.getTime()+864e5*a).getDay()});return n},N=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e)-1]},k=n(14),D=n.n(k),S=n(1),T=function(e){if(!e)return[];for(var t=w(new Date(e)),n=[],a=[{Header:Object(S.jsx)("div",{className:D.a.headerFirstCol,children:"Employee"}),accessor:"name"}],c=0;c<t.length;c++){var r=t[c].date.slice(3,5),o=t.length-1!==c&&t[c+1].date.slice(3,5),l=t[c].date.slice(6,8);r===o?n.push({Header:Object(S.jsx)("div",{className:Object(v.a)(0===t[c].day||6===t[c].day?D.a.weekend:"",D.a.cell),children:t[c].date.slice(0,2)}),accessor:"accessor_".concat(t[c].date.slice(0,2)).concat(t[c].date.slice(3,5)).concat(t[c].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(S.jsx)("div",{children:t.length})}if(e.row.index===e.rows.length-2){var n=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(S.jsx)("div",{children:e.rows.length-n.length-2})}return Object(S.jsx)("div",{children:e.value})}}):(n.push({Header:Object(S.jsx)("div",{className:Object(v.a)(0===t[c].day||6===t[c].day?D.a.weekend:"",D.a.cell),children:t[c].date.slice(0,2)}),accessor:"accessor_".concat(t[c].date.slice(0,2)).concat(t[c].date.slice(3,5)).concat(t[c].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(S.jsx)("div",{children:t.length})}if(e.row.index===e.rows.length-2){var n=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(S.jsx)("div",{children:e.rows.length-n.length-2})}return Object(S.jsx)("div",{children:e.value})}}),a.push({Header:Object(S.jsx)("div",{className:Object(v.a)(D.a.cell,D.a.headerTopCell),children:"".concat(N(r)," '").concat(l)}),accessor:r,columns:[].concat(n)}),n.length=0)}return a},B=function(e){return{type:b,data:e}},E=function(e){return{type:p,modalFlag:e}},M=function(e){return{type:_,newEmployee:e}},A=C.a.mark(I),R=C.a.mark(F);function I(e){var t,n,a;return C.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,localStorage.getItem("firstRangeDate");case 3:return t=c.sent,c.next=6,JSON.parse(localStorage.getItem("calendar")||"[]");case 6:return n=c.sent,c.next=9,[];case 9:if(a=c.sent,!t){c.next=18;break}return c.next=13,T(t);case 13:return a=c.sent,c.next=16,Object(g.c)({type:O,firstRangeDate:t});case 16:c.next=23;break;case 18:return c.next=20,T(new Date);case 20:return a=c.sent,c.next=23,localStorage.setItem("firstRangeDate",String(new Date));case 23:return c.next=25,Object(g.c)({type:j,columns:a});case 25:if(!n.length){c.next=30;break}return c.next=28,Object(g.c)(B(n));case 28:c.next=32;break;case 30:return c.next=32,localStorage.setItem("calendar",JSON.stringify(e.data));case 32:c.next=37;break;case 34:c.prev=34,c.t0=c.catch(0),console.log(c.t0);case 37:case"end":return c.stop()}}),A,null,[[0,34]])}function F(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(u,I);case 2:case"end":return e.stop()}}),R)}var J=C.a.mark(L);function L(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Object(g.b)(F)]);case 2:case"end":return e.stop()}}),J)}n(43);var H=n(19),W=n(23),P=n.n(W),G=function(e){var t=e.onCloseButtonClick,n=e.modalContent,a=function(){t()};return Object(S.jsx)("div",{className:P.a.modalWrapper,children:Object(S.jsxs)("div",{className:P.a.modal,children:[Object(S.jsx)("button",{type:"button",onClick:a,className:P.a.button,children:Object(S.jsx)("span",{})}),Object(S.jsx)(n,{onCloseClick:a})]})})},Y=n(28),V=n.n(Y),U=function(e){var t=e.buttonText,n=e.buttonType,a=e.onButtonClick,c=e.stylesButton;return Object(S.jsx)("button",{type:n,onClick:a,className:Object(v.a)(V.a.button,c),children:t})},q=n(29),X=n(9),Q=n.n(X),z=function(e){var t=e.data,n=e.columns,c=Object(l.b)(),r=Object(q.useTable)({columns:n,data:t}),o=r.getTableProps,s=r.getTableBodyProps,i=r.headerGroups,u=r.rows,b=r.prepareRow;return Object(S.jsxs)("table",Object(d.a)(Object(d.a)({},o()),{},{className:Q.a.table,children:[Object(S.jsx)("thead",{children:i.map((function(e,t){return Object(a.createElement)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{key:"".concat(e," ").concat(Math.random())}),e.headers.map((function(e,n){return Object(a.createElement)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps()),{},{className:Object(v.a)(0===n&&Q.a.firstCell,0===n&&0===t&&Q.a.hiddenCell,0===n&&1===t&&Q.a.hiddenCell2,Q.a.tableHeader),key:"".concat(e," ").concat(Math.random())}),e.render("Header"))})))}))}),Object(S.jsx)("tbody",Object(d.a)(Object(d.a)({},s()),{},{children:u.map((function(e){return b(e),Object(a.createElement)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{key:"".concat(e," ").concat(Math.random())}),e.cells.map((function(n,r){return Object(a.createElement)("td",Object(d.a)(Object(d.a)({},n.getCellProps()),{},{className:Object(v.a)(0===r&&Q.a.firstCell,Q.a.tableCell),key:"".concat(n," ").concat(Math.random())}),Object(S.jsxs)("div",{className:Object(v.a)(0===r&&Q.a.left,Q.a.tdInner),children:[0!==r&&e.index!==t.length-1&&e.index!==t.length-2?Object(S.jsx)("button",{type:"button",className:Q.a.cellButton,onClick:function(){return function(e,n){var a=t.concat();Object.keys(a[Number(n)]).includes(e)?delete a[Number(n)][e]:a[Number(n)][e]=1,c(B(a)),localStorage.setItem("calendar",JSON.stringify(a))}(n.column.id,n.row.id)},children:n.render("Cell")}):n.render("Cell"),0===r&&"Total office"!==n.value&&"Total remote"!==n.value&&Object(S.jsx)("button",{type:"button",className:Q.a.buttonDelRow,onClick:function(){return function(e){var n=t.filter((function(t){return t.name!==e}));c(B(n)),localStorage.setItem("calendar",JSON.stringify(n))}(n.value)},children:Object(S.jsx)("span",{})})]}))})))}))}))]}))},K=function(e,t){var n=e,a={};a.name=t;for(var c=0;c<365;c++){var r=y(new Date(n.getTime()+864e5*c));a["accessor_".concat(r.slice(0,2)).concat(r.slice(3,5)).concat(r.slice(6,8))]=1}return a},Z=n(16),$=n.n(Z),ee=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducer.data})),n=Object(a.useState)(""),c=Object(H.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)("office"),d=Object(H.a)(s,2),u=d[0],b=d[1],j=function(e){b(e)},O=function(){if("office"===u){var n={name:r};e(M(n)),localStorage.setItem("calendar",JSON.stringify([n].concat(Object(i.a)(t))))}if("remote"===u){var a=K(new Date,r);e(M(a)),localStorage.setItem("calendar",JSON.stringify([a].concat(Object(i.a)(t))))}e(E(!1))};return Object(S.jsxs)("div",{className:$.a.modalContent,children:[Object(S.jsx)("h2",{children:"Add a new employee"}),Object(S.jsxs)("form",{onSubmit:O,className:$.a.form,children:[Object(S.jsxs)("div",{className:$.a.labelWrapper,children:[Object(S.jsx)("label",{children:"Name: "}),Object(S.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)}})]}),Object(S.jsxs)("div",{className:$.a.labelWrapper,children:[Object(S.jsx)("label",{children:"Place of work:"}),Object(S.jsxs)("div",{className:$.a.radioWrapper,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"office"}),Object(S.jsx)("input",{type:"radio",name:"radio",value:u,defaultChecked:!0,onClick:function(){return j("office")}})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{children:"remote"}),Object(S.jsx)("input",{type:"radio",name:"radio",value:u,onClick:function(){return j("remote")}})]})]})]})]}),Object(S.jsx)(U,{buttonText:"Add",buttonType:"submit",onButtonClick:O})]})},te=n(24),ne=n.n(te),ae=function(e){var t=e.onCloseClick,n=Object(l.b)(),a=t;return Object(S.jsxs)("div",{className:ne.a.modalContent,children:[Object(S.jsx)("h2",{children:"Are sure to delete all employees?"}),Object(S.jsxs)("div",{className:ne.a.buttons_wrapper,children:[Object(S.jsx)(U,{buttonText:"Delete",buttonType:"button",onButtonClick:function(){n(B(m)),localStorage.setItem("calendar",JSON.stringify(m)),a()}}),Object(S.jsx)(U,{buttonText:"Cancel",buttonType:"button",onButtonClick:function(){a()},stylesButton:ne.a.deleteButton})]})]})},ce=n(15),re=n.n(ce),oe=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducer})),n=Object(a.useState)(!1),c=Object(H.a)(n,2),r=c[0],o=c[1];Object(a.useEffect)((function(){var n;e((n=t.data,{type:u,data:n}))}),[e]);var s=function(){o(!r)};return Object(S.jsxs)("div",{className:re.a.root_wrapper,children:[t.modalFlag&&Object(S.jsx)(G,{onCloseButtonClick:function(){e(E(!1))},modalContent:ee}),r&&Object(S.jsx)(G,{onCloseButtonClick:s,modalContent:ae}),Object(S.jsx)("header",{children:Object(S.jsx)("h1",{children:"Remote Calendar"})}),Object(S.jsxs)("section",{className:Object(v.a)(re.a.section_wrapper,re.a.buttons_wrapper),children:[Object(S.jsx)(U,{buttonText:"Add employee",buttonType:"button",onButtonClick:function(){e(E(!0))}}),Object(S.jsx)(U,{buttonText:"Delete all employees",buttonType:"button",onButtonClick:s,stylesButton:re.a.deleteButton})]}),Object(S.jsx)("section",{className:Object(v.a)(re.a.section_wrapper,re.a.calendar_wrapper),children:Object(S.jsx)(z,{data:t.data,columns:t.columns})})]})};n(45);var le=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(oe,{})})},se=Object(s.a)(),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,de=Object(o.d)(h,ie(Object(o.a)(se)));se.run(L),r.a.render(Object(S.jsx)(l.a,{store:de,children:Object(S.jsx)(le,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={table:"Calendar_table__2gz7h",tableHeader:"Calendar_tableHeader__1Tj0Q",tableCell:"Calendar_tableCell__3k-KB",cell:"Calendar_cell__14FkO",firstCell:"Calendar_firstCell__3YC6V",buttonDelRow:"Calendar_buttonDelRow__3yO2B",tdInner:"Calendar_tdInner__1Qqal",left:"Calendar_left__2ULUU",hiddenCell:"Calendar_hiddenCell__3FmDQ",hiddenCell2:"Calendar_hiddenCell2__1IDBb",cellButton:"Calendar_cellButton__3tjSx"}}},[[46,1,2]]]);
//# sourceMappingURL=main.3ef2b67e.chunk.js.map