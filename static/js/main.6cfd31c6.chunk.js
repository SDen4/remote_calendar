(this.webpackJsonpremote_calendar=this.webpackJsonpremote_calendar||[]).push([[0],{11:function(e,t,a){e.exports={table:"Calendar_table__2gz7h",tableHeader:"Calendar_tableHeader__1Tj0Q",tableCell:"Calendar_tableCell__3k-KB",cell:"Calendar_cell__14FkO",firstCell:"Calendar_firstCell__3YC6V",buttonDelRow:"Calendar_buttonDelRow__3yO2B",tdInner:"Calendar_tdInner__1Qqal",left:"Calendar_left__2ULUU"}},14:function(e,t,a){e.exports={cell:"columns_cell__32YGY",weekend:"columns_weekend__3-10h",headerFirstCol:"columns_headerFirstCol__2_EEi",headerTopCell:"columns_headerTopCell__1xdye"}},15:function(e,t,a){e.exports={modalContent:"ModalContent_modalContent__2Ret1",form:"ModalContent_form__169qh",labelWrapper:"ModalContent_labelWrapper__2EgFl",radioWrapper:"ModalContent_radioWrapper__2iTLh"}},18:function(e,t,a){e.exports={root_wrapper:"Root_root_wrapper__eL6rt",section_wrapper:"Root_section_wrapper__dgqip",calendar_wrapper:"Root_calendar_wrapper__1t7Ie"}},22:function(e,t,a){e.exports={modalWrapper:"Modal_modalWrapper__2YViX",modal:"Modal_modal__26uN6",button:"Modal_button__36BgA"}},28:function(e,t,a){e.exports={button:"Button_button__1Y5Fm"}},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(19),r=a.n(c),o=a(12),l=a(8),s=a(29),i=a(17),d=a(5),u="FETCH_SAGA",b="SAVE_ALL_DATA",j="SAVE_ALL_COLUMNS",O="SAVE_FIRST_RANGE_DATE",p="SET_MODAL_FLAG",m="ADD_NEW_EMPLOYEE",f={data:[{name:"Total office"},{name:"Total remote"}],columns:[],firstRangeDate:null,modalFlag:!1},_=Object(o.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case j:return Object(d.a)(Object(d.a)({},e),{},{columns:t.columns});case O:return Object(d.a)(Object(d.a)({},e),{},{firstRangeDate:t.firstRangeDate});case p:return Object(d.a)(Object(d.a)({},e),{},{modalFlag:t.modalFlag});case m:return Object(d.a)(Object(d.a)({},e),{},{data:[t.newEmployee].concat(Object(i.a)(e.data))});default:return e}}}),h=a(10),x=a.n(h),g=a(13),v=a(7),C=function(e){var t=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),a=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,n=String(e.getFullYear()).slice(2,4);return"".concat(t,".").concat(a,".").concat(n)},w=function(e){for(var t=e,a=[],n=0;n<365;n++)a.push({date:C(new Date(t.getTime()+864e5*n)),day:new Date(t.getTime()+864e5*n).getDay()});return a},y=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e)-1]},k=a(14),N=a.n(k),D=a(2),E=function(e){if(!e)return[];for(var t=w(new Date(e)),a=[],n=[{Header:Object(D.jsx)("div",{className:N.a.headerFirstCol,children:"Employee"}),accessor:"name"}],c=0;c<t.length;c++){var r=t[c].date.slice(3,5),o=t.length-1!==c&&t[c+1].date.slice(3,5),l=t[c].date.slice(6,8);r===o?a.push({Header:Object(D.jsx)("div",{className:Object(v.a)(0===t[c].day||6===t[c].day?N.a.weekend:"",N.a.cell),children:t[c].date.slice(0,2)}),accessor:"accessor_".concat(t[c].date.slice(0,2)).concat(t[c].date.slice(3,5)).concat(t[c].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(D.jsx)("div",{children:t.length})}if(e.row.index===e.rows.length-2){var a=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(D.jsx)("div",{children:e.rows.length-a.length-2})}return Object(D.jsx)("div",{children:e.value})}}):(a.push({Header:Object(D.jsx)("div",{className:Object(v.a)(0===t[c].day||6===t[c].day?N.a.weekend:"",N.a.cell),children:t[c].date.slice(0,2)}),accessor:"accessor_".concat(t[c].date.slice(0,2)).concat(t[c].date.slice(3,5)).concat(t[c].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(D.jsx)("div",{children:t.length})}if(e.row.index===e.rows.length-2){var a=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)}));return Object(D.jsx)("div",{children:e.rows.length-a.length-2})}return Object(D.jsx)("div",{children:e.value})}}),n.push({Header:Object(D.jsx)("div",{className:Object(v.a)(N.a.cell,N.a.headerTopCell),children:"".concat(y(r)," '").concat(l)}),accessor:r,columns:[].concat(a)}),a.length=0)}return n},S=function(e){return{type:b,data:e}},T=function(e){return{type:p,modalFlag:e}},A=function(e){return{type:m,newEmployee:e}},M=x.a.mark(F),R=x.a.mark(I);function F(e){var t,a,n;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,localStorage.getItem("firstRangeDate");case 3:return t=c.sent,c.next=6,JSON.parse(localStorage.getItem("calendar")||"[]");case 6:return a=c.sent,c.next=9,[];case 9:if(n=c.sent,!t){c.next=18;break}return c.next=13,E(t);case 13:return n=c.sent,c.next=16,Object(g.c)({type:O,firstRangeDate:t});case 16:c.next=23;break;case 18:return c.next=20,E(new Date);case 20:return n=c.sent,c.next=23,localStorage.setItem("firstRangeDate",String(new Date));case 23:return c.next=25,Object(g.c)({type:j,columns:n});case 25:if(!a.length){c.next=30;break}return c.next=28,Object(g.c)(S(a));case 28:c.next=32;break;case 30:return c.next=32,localStorage.setItem("calendar",JSON.stringify(e.data));case 32:c.next=37;break;case 34:c.prev=34,c.t0=c.catch(0),console.log(c.t0);case 37:case"end":return c.stop()}}),M,null,[[0,34]])}function I(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(u,F);case 2:case"end":return e.stop()}}),R)}var B=x.a.mark(L);function L(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Object(g.b)(I)]);case 2:case"end":return e.stop()}}),B)}a(42);var H=a(22),W=a.n(H),J=function(e){var t=e.onCloseButtonClick,a=e.modalContent;return Object(D.jsx)("div",{className:W.a.modalWrapper,children:Object(D.jsxs)("div",{className:W.a.modal,children:[Object(D.jsx)("button",{type:"button",onClick:function(){t()},className:W.a.button,children:Object(D.jsx)("span",{})}),Object(D.jsx)(a,{})]})})},P=a(27),Y=a(11),G=a.n(Y),V=function(e){var t=e.data,a=e.columns,c=Object(l.b)(),r=Object(P.useTable)({columns:a,data:t}),o=r.getTableProps,s=r.getTableBodyProps,i=r.headerGroups,u=r.rows,b=r.prepareRow;return Object(D.jsxs)("table",Object(d.a)(Object(d.a)({},o()),{},{className:G.a.table,children:[Object(D.jsx)("thead",{children:i.map((function(e){return Object(n.createElement)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{key:"".concat(e," ").concat(Math.random())}),e.headers.map((function(e,t){return Object(n.createElement)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps()),{},{className:Object(v.a)(0===t&&G.a.firstCell,G.a.tableHeader),key:"".concat(e," ").concat(Math.random())}),e.render("Header"))})))}))}),Object(D.jsx)("tbody",Object(d.a)(Object(d.a)({},s()),{},{children:u.map((function(e){return b(e),Object(n.createElement)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{key:"".concat(e," ").concat(Math.random())}),e.cells.map((function(e,a){return Object(n.createElement)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{className:Object(v.a)(0===a&&G.a.firstCell,G.a.tableCell),key:"".concat(e," ").concat(Math.random())}),Object(D.jsxs)("div",{className:Object(v.a)(0===a&&G.a.left,G.a.tdInner),children:[e.render("Cell"),0===a&&"Total office"!==e.value&&"Total remote"!==e.value&&Object(D.jsx)("button",{type:"button",className:G.a.buttonDelRow,onClick:function(){return function(e){var a=t.filter((function(t){return t.name!==e}));c(S(a)),localStorage.setItem("calendar",JSON.stringify(a))}(e.value)},children:Object(D.jsx)("span",{})})]}))})))}))}))]}))},U=a(25),q=a(28),X=a.n(q),Q=function(e){var t=e.buttonText,a=e.buttonType,n=e.onButtonClick,c=e.stylesButton;return Object(D.jsx)("button",{type:a,onClick:n,className:Object(v.a)(X.a.button,c),children:t})},z=function(e,t){var a=e,n={};n.name=t;for(var c=0;c<365;c++){var r=C(new Date(a.getTime()+864e5*c));n["accessor_".concat(r.slice(0,2)).concat(r.slice(3,5)).concat(r.slice(6,8))]=1}return n},K=a(15),Z=a.n(K),$=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducer.data})),a=Object(n.useState)(""),c=Object(U.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)("office"),d=Object(U.a)(s,2),u=d[0],b=d[1],j=function(e){b(e)},O=function(){if("office"===u){var a={name:r};e(A(a)),localStorage.setItem("calendar",JSON.stringify([a].concat(Object(i.a)(t))))}if("remote"===u){var n=z(new Date,r);e(A(n)),localStorage.setItem("calendar",JSON.stringify([n].concat(Object(i.a)(t))))}e(T(!1))};return Object(D.jsxs)("div",{className:Z.a.modalContent,children:[Object(D.jsx)("h2",{children:"Add a new eployee"}),Object(D.jsxs)("form",{onSubmit:O,className:Z.a.form,children:[Object(D.jsxs)("div",{className:Z.a.labelWrapper,children:[Object(D.jsx)("label",{children:"Name: "}),Object(D.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)}})]}),Object(D.jsxs)("div",{className:Z.a.labelWrapper,children:[Object(D.jsx)("label",{children:"Place of work:"}),Object(D.jsxs)("div",{className:Z.a.radioWrapper,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"office"}),Object(D.jsx)("input",{type:"radio",name:"radio",value:u,defaultChecked:!0,onClick:function(){return j("office")}})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("label",{children:"remote"}),Object(D.jsx)("input",{type:"radio",name:"radio",value:u,onClick:function(){return j("remote")}})]})]})]})]}),Object(D.jsx)(Q,{buttonText:"Add",buttonType:"submit",onButtonClick:O})]})},ee=a(18),te=a.n(ee),ae=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducer}));Object(n.useEffect)((function(){var a;e((a=t.data,{type:u,data:a}))}),[e]);return Object(D.jsxs)("div",{className:te.a.root_wrapper,children:[t.modalFlag&&Object(D.jsx)(J,{onCloseButtonClick:function(){e(T(!1))},modalContent:$}),Object(D.jsx)("header",{children:Object(D.jsx)("h1",{children:"Remote Calendar"})}),Object(D.jsx)("section",{className:te.a.section_wrapper,children:Object(D.jsx)(Q,{buttonText:"Add employee",buttonType:"button",onButtonClick:function(){e(T(!0))}})}),Object(D.jsx)("section",{className:Object(v.a)(te.a.section_wrapper,te.a.calendar_wrapper),children:Object(D.jsx)(V,{data:t.data,columns:t.columns})})]})};a(44);var ne=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(ae,{})})},ce=Object(s.a)(),re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,oe=Object(o.d)(_,re(Object(o.a)(ce)));ce.run(L),r.a.render(Object(D.jsx)(l.a,{store:oe,children:Object(D.jsx)(ne,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.6cfd31c6.chunk.js.map