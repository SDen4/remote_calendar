(this.webpackJsonpremote_calendar=this.webpackJsonpremote_calendar||[]).push([[0],[,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return d}));var a=n(7),c=function(e,t,n){return{type:a.c,data:e,maxValue:t,columnsQuantity:n}},r=function(e){return{type:a.e,data:e}},o=function(e){return{type:a.d,columns:e}},l=function(e){return{type:a.f,firstRangeDate:e}},s=function(e){return{type:a.h,modalFlag:e}},u=function(e){return{type:a.b,newEmployee:e}},i=function(e){return{type:a.g,maxValue:e}},d=function(e){return{type:a.a,columnsQuantity:e}}},function(e,t,n){e.exports={root_wrapper:"Root_root_wrapper__eL6rt",section_wrapper:"Root_section_wrapper__dgqip",calendar_wrapper:"Root_calendar_wrapper__1t7Ie",buttons_wrapper:"Root_buttons_wrapper__2--Nx",deleteButton:"Root_deleteButton__IXlIF",sectionTotal:"Root_sectionTotal__2sBkM",disabledButton:"Root_disabledButton__3-F7j",sectionMaxEmployees:"Root_sectionMaxEmployees__15T99",addPeriodButtonWrapper:"Root_addPeriodButtonWrapper__1TEqF",addPeriodButton:"Root_addPeriodButton__zSwil",example_wrapper:"Root_example_wrapper__2CniL",example_item:"Root_example_item__ssgKK",examle_empty:"Root_examle_empty__1GOpV",examle_full:"Root_examle_full__UAu05",section_wrapper_notice:"Root_section_wrapper_notice___S4nm"}},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return i}));var a="FETCH_SAGA",c="SAVE_ALL_DATA",r="SAVE_ALL_COLUMNS",o="SAVE_FIRST_RANGE_DATE",l="SAVE_MAX_VALUE",s="SET_MODAL_FLAG",u="ADD_NEW_EMPLOYEE",i="ADD_COLUMNS_QUANTITY"},,,,function(e,t,n){e.exports={cell:"columns_cell__32YGY",weekend:"columns_weekend__3-10h",headerFirstCol:"columns_headerFirstCol__2_EEi",headerTopCell:"columns_headerTopCell__1xdye",currentDate:"columns_currentDate__10MN6",red:"columns_red__3001Q"}},function(e,t,n){e.exports={modalContent:"ModalContent_modalContent__2Ret1",form:"ModalContent_form__169qh",labelWrapper:"ModalContent_labelWrapper__2EgFl",radioWrapper:"ModalContent_radioWrapper__2iTLh",buttons_wrapper:"ModalContent_buttons_wrapper__1FQ_W",deleteButton:"ModalContent_deleteButton__1z69p",inputWrapper:"ModalContent_inputWrapper__1Wc4T",validationText:"ModalContent_validationText__2UqVI",noteText:"ModalContent_noteText__6A_m5"}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),n=e.getMonth()<9?"0".concat(e.getMonth()+1):e.getMonth()+1,a=String(e.getFullYear()).slice(2,4);return"".concat(t,".").concat(n,".").concat(a)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=[{name:"Total office"},{name:"Total remote"}],c={row:"",cell:""}},,,,,function(e,t,n){e.exports={modalWrapper:"Modal_modalWrapper__2YViX",modal:"Modal_modal__26uN6",button:"Modal_button__36BgA"}},function(e,t,n){e.exports={modalContent:"ModalDelContent_modalContent__MC1xq",buttons_wrapper:"ModalDelContent_buttons_wrapper__3jGJi",deleteButton:"ModalDelContent_deleteButton__2gpJ-"}},,,,function(e,t,n){e.exports={button:"Button_button__1Y5Fm"}},,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(22),o=n.n(r),l=n(17),s=n(13),u=n(32),i=n(31),d=n(10),b=n(7),j=n(20),m={data:j.b,columns:[],firstRangeDate:null,modalFlag:!1,maxValue:1,columnsQuantity:90},p=Object(l.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.e:return Object(d.a)(Object(d.a)({},e),{},{data:t.data});case b.d:return Object(d.a)(Object(d.a)({},e),{},{columns:t.columns});case b.f:return Object(d.a)(Object(d.a)({},e),{},{firstRangeDate:t.firstRangeDate});case b.h:return Object(d.a)(Object(d.a)({},e),{},{modalFlag:t.modalFlag});case b.b:return Object(d.a)(Object(d.a)({},e),{},{data:[t.newEmployee].concat(Object(i.a)(e.data))});case b.g:return Object(d.a)(Object(d.a)({},e),{},{maxValue:t.maxValue});case b.a:return Object(d.a)(Object(d.a)({},e),{},{columnsQuantity:t.columnsQuantity});default:return e}}}),O=n(16),_=n.n(O),f=n(14),x=n(9),h=n(19),g=function(e,t){for(var n=e,a=[],c=0;c<t;c++)a.push({date:Object(h.a)(new Date(n.getTime()+864e5*c)),day:new Date(n.getTime()+864e5*c).getDay()});return a},y=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][Number(e)-1]},v=n(11),w=n.n(v),C=n(1),N=function(e,t,n){if(!e)return[];for(var a=g(new Date(e),n),c=Object(h.a)(new Date),r=t||1,o=[],l=[{Header:Object(C.jsx)("div",{className:w.a.headerFirstCol,children:"Employee"}),accessor:"name"}],s=0;s<a.length;s++){var u=a[s].date.slice(3,5),i=a.length-1!==s&&a[s+1].date.slice(3,5),d=a[s].date.slice(6,8);u===i?o.push({Header:Object(C.jsx)("div",{className:Object(x.a)(0===a[s].day||6===a[s].day?w.a.weekend:"",w.a.cell,a[s].date===c&&w.a.currentDate),children:a[s].date.slice(0,2)}),accessor:"a_".concat(a[s].date.slice(0,2)).concat(a[s].date.slice(3,5)).concat(a[s].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1)return e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})).length;if(e.row.index===e.rows.length-2){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})),n=e.rows.length-t.length-2;return Object(C.jsx)("div",{className:Object(x.a)(n>r&&w.a.red),children:n})}return Object(C.jsx)("div",{children:e.value})}}):(o.push({Header:Object(C.jsx)("div",{className:Object(x.a)(0===a[s].day||6===a[s].day?w.a.weekend:"",w.a.cell),children:a[s].date.slice(0,2)}),accessor:"a_".concat(a[s].date.slice(0,2)).concat(a[s].date.slice(3,5)).concat(a[s].date.slice(6,8)),Cell:function(e){if(e.row.index===e.rows.length-1)return e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})).length;if(e.row.index===e.rows.length-2){var t=e.data.filter((function(t){return Object.keys(t).join(" ").includes(e.column.id)})),n=e.rows.length-t.length-2;return Object(C.jsx)("div",{className:Object(x.a)(n>r&&w.a.red),children:n})}return Object(C.jsx)("div",{children:e.value})}}),l.push({Header:Object(C.jsx)("div",{className:Object(x.a)(w.a.cell,w.a.headerTopCell),children:"".concat(y(u)," '").concat(d)}),accessor:u,columns:[].concat(o)}),o.length=0)}return l},k=n(5),S=_.a.mark(D),T=_.a.mark(B);function D(e){var t,n,a,c,r;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,localStorage.getItem("firstRangeDate");case 3:return t=o.sent,o.next=6,JSON.parse(localStorage.getItem("calendar")||"[]");case 6:return n=o.sent,o.next=9,localStorage.getItem("maxValue");case 9:return a=o.sent,o.next=12,localStorage.getItem("columnsQuantity");case 12:if(c=o.sent,!a){o.next=18;break}return o.next=16,Object(f.c)(Object(k.f)(Number(a)));case 16:o.next=20;break;case 18:return o.next=20,localStorage.setItem("maxValue",String(e.maxValue));case 20:return o.next=22,[];case 22:if(r=o.sent,!c){o.next=28;break}return o.next=26,Object(f.c)(Object(k.g)(Number(c)));case 26:o.next=30;break;case 28:return o.next=30,localStorage.setItem("columnsQuantity",String(e.columnsQuantity));case 30:if(!t){o.next=38;break}return o.next=33,N(t,a,c||e.columnsQuantity);case 33:return r=o.sent,o.next=36,Object(f.c)(Object(k.e)(t));case 36:o.next=43;break;case 38:return o.next=40,N(new Date,e.maxValue,c||e.columnsQuantity);case 40:return r=o.sent,o.next=43,localStorage.setItem("firstRangeDate",String(new Date));case 43:return o.next=45,Object(f.c)(Object(k.c)(r));case 45:if(!n.length){o.next=50;break}return o.next=48,Object(f.c)(Object(k.d)(n));case 48:o.next=52;break;case 50:return o.next=52,localStorage.setItem("calendar",JSON.stringify(e.data));case 52:o.next=57;break;case 54:o.prev=54,o.t0=o.catch(0),console.log(o.t0);case 57:case"end":return o.stop()}}),S,null,[[0,54]])}function B(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(b.c,D);case 2:case"end":return e.stop()}}),T)}var E=_.a.mark(M);function M(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([Object(f.b)(B)]);case 2:case"end":return e.stop()}}),E)}n(45);var A=n(18),R=n(25),V=n.n(R),I=function(e){var t=e.onCloseButtonClick,n=e.modalContent,a=function(){t()};return Object(C.jsx)("div",{className:V.a.modalWrapper,children:Object(C.jsxs)("div",{className:V.a.modal,children:[Object(C.jsx)("button",{type:"button",onClick:a,className:V.a.button,children:Object(C.jsx)("span",{})}),Object(C.jsx)(n,{onCloseClick:a})]})})},F=Object(a.memo)(I),Q=n(30),W=n.n(Q),L=function(e){var t=e.buttonText,n=e.buttonType,a=e.onButtonClick,c=e.stylesButton,r=e.disabled;return Object(C.jsx)("button",{type:n,onClick:a,className:Object(x.a)(W.a.button,c),disabled:r,children:t})},J=Object(a.memo)(L),P=function(e,t){var n=e,a={};a.name=t;for(var c=0;c<90;c++){var r=Object(h.a)(new Date(n.getTime()+864e5*c));a["a_".concat(r.slice(0,2)).concat(r.slice(3,5)).concat(r.slice(6,8))]=1}return a},Y=n(12),H=n.n(Y),U=function(){var e=Object(s.b)(),t=Object(a.useRef)(null);Object(a.useEffect)((function(){t.current.focus()}),[]);var n=Object(s.c)((function(e){return e.reducer.data})),c=Object(a.useState)(""),r=Object(A.a)(c,2),o=r[0],l=r[1],u=Object(a.useState)("office"),i=Object(A.a)(u,2),d=i[0],b=i[1],j=Object(a.useState)(!1),m=Object(A.a)(j,2),p=m[0],O=m[1],_=Object(a.useCallback)((function(e){b(e)}),[]),f=Object(a.useCallback)((function(e){O(!1),l(e.target.value.trim())}),[]),x=Object(a.useCallback)((function(t){if(t.preventDefault(),o){var a,c=[];a=o.split(/\s*,\s*/);for(var r=0;r<a.length;r++){if("office"===d){var l={name:a[r]};e(Object(k.a)(l)),c.push(l)}if("remote"===d){var s=P(new Date,a[r]);e(Object(k.a)(s)),c.push(s)}}localStorage.setItem("calendar",JSON.stringify(c.reverse().concat(n))),c.length=0,e(Object(k.h)(!1))}else O(!0)}),[n,e,o,d]),h=Object(a.useCallback)((function(){l(""),b("office"),e(Object(k.h)(!1))}),[e]);return Object(C.jsxs)("div",{className:H.a.modalContent,children:[Object(C.jsx)("h2",{children:"Add a new employee"}),Object(C.jsxs)("form",{onSubmit:x,className:H.a.form,children:[Object(C.jsxs)("div",{className:H.a.labelWrapper,children:[Object(C.jsx)("label",{children:"Name: "}),Object(C.jsxs)("div",{className:H.a.inputWrapper,children:[Object(C.jsx)("input",{type:"text",onChange:f,ref:t}),p&&Object(C.jsx)("span",{className:H.a.validationText,children:"The field can not be empty"}),!o.includes(",")&&!p&&Object(C.jsx)("span",{className:H.a.noteText,children:"You can enter more than 1 employee separated by commas"})]})]}),Object(C.jsxs)("div",{className:H.a.labelWrapper,children:[Object(C.jsx)("label",{children:"Place of work:"}),Object(C.jsxs)("div",{className:H.a.radioWrapper,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"office"}),Object(C.jsx)("input",{type:"radio",name:"radio",value:d,defaultChecked:!0,onClick:function(){return _("office")}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"remote"}),Object(C.jsx)("input",{type:"radio",name:"radio",value:d,onClick:function(){return _("remote")}})]})]})]})]}),Object(C.jsxs)("div",{className:H.a.buttons_wrapper,children:[Object(C.jsx)(J,{buttonText:"Add",buttonType:"submit",onButtonClick:x}),Object(C.jsx)(J,{buttonText:"Cancel",buttonType:"button",onButtonClick:h,stylesButton:H.a.deleteButton})]})]})},G=Object(a.memo)(U),q=n(26),X=n.n(q),z=function(e){var t=e.onCloseClick,n=Object(s.b)(),a=t;return Object(C.jsxs)("div",{className:X.a.modalContent,children:[Object(C.jsx)("h2",{children:"Are you sure to delete all employees?"}),Object(C.jsxs)("div",{className:X.a.buttons_wrapper,children:[Object(C.jsx)(J,{buttonText:"Delete",buttonType:"button",onButtonClick:function(){n(Object(k.e)(new Date)),localStorage.setItem("firstRangeDate",String(new Date)),n(Object(k.d)(j.b)),localStorage.setItem("calendar",JSON.stringify(j.b)),localStorage.setItem("columnsQuantity","90"),n(Object(k.g)(90)),n(Object(k.b)(j.b,1,90)),a()}}),Object(C.jsx)(J,{buttonText:"Cancel",buttonType:"button",onButtonClick:function(){a()},stylesButton:X.a.deleteButton})]})]})},K=n(6),Z=n.n(K),$=c.a.lazy((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,51))})),ee=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.reducer})),n=Object(a.useState)(!1),c=Object(A.a)(n,2),r=c[0],o=c[1];Object(a.useEffect)((function(){e(Object(k.b)(t.data,t.maxValue,t.columnsQuantity))}),[e]);var l=Object(a.useCallback)((function(){e(Object(k.h)(!0))}),[e]),u=Object(a.useCallback)((function(){e(Object(k.h)(!1))}),[e]),i=Object(a.useCallback)((function(){o(!r)}),[r]),d=Object(a.useCallback)((function(n){n<0||(localStorage.setItem("maxValue",String(n)),e(Object(k.f)(n)),e(Object(k.b)(t.data,n,t.columnsQuantity)))}),[e,t.columnsQuantity,t.data]);Object(a.useEffect)((function(){return N(t.firstRangeDate,t.maxValue,90)}),[t.firstRangeDate,t.maxValue]);var b=Object(a.useCallback)((function(){var n=t.columnsQuantity+90;localStorage.setItem("columnsQuantity",String(n)),e(Object(k.g)(n)),e(Object(k.b)(t.data,t.maxValue,n))}),[e,t.columnsQuantity,t.data,t.maxValue]),j=Object(a.useState)(0),m=Object(A.a)(j,2),p=m[0],O=m[1];return Object(a.useEffect)((function(){return O(window.outerHeight)}),[]),window.addEventListener("resize",(function(){return O(window.outerHeight)}),!0),Object(C.jsxs)("div",{className:Z.a.root_wrapper,style:{minHeight:p},children:[t.modalFlag&&Object(C.jsx)(F,{onCloseButtonClick:u,modalContent:G}),r&&Object(C.jsx)(F,{onCloseButtonClick:i,modalContent:z}),Object(C.jsx)("header",{children:Object(C.jsx)("h1",{children:"Remote Calendar"})}),Object(C.jsxs)("section",{className:Object(x.a)(Z.a.section_wrapper,Z.a.buttons_wrapper),children:[Object(C.jsx)(J,{buttonText:"Add employee",buttonType:"button",onButtonClick:l}),t.data.length>2&&Object(C.jsx)(J,{buttonText:3===t.data.length?"Delete employee":"Delete all employees",buttonType:"button",onButtonClick:i,stylesButton:Object(x.a)(Z.a.deleteButton,t.data.length<=2&&Z.a.disabledButton),disabled:t.data.length<=2})]}),t.data.length>2&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("section",{className:Object(x.a)(Z.a.section_wrapper,Z.a.calendar_wrapper),children:[Object(C.jsx)(a.Suspense,{fallback:Object(C.jsx)(C.Fragment,{children:"Loading..."}),children:Object(C.jsx)($,{data:t.data,columns:t.columns})}),Object(C.jsx)("div",{className:Z.a.addPeriodButtonWrapper,children:Object(C.jsx)(J,{buttonText:"Add period",buttonType:"button",stylesButton:Z.a.addPeriodButton,onButtonClick:b})})]}),Object(C.jsxs)("section",{className:Object(x.a)(Z.a.section_wrapper,Z.a.sectionTotal),children:[Object(C.jsx)("span",{children:"Total employees:"}),Object(C.jsx)("span",{children:t.data.length-2})]}),Object(C.jsxs)("section",{className:Object(x.a)(Z.a.section_wrapper,Z.a.sectionMaxEmployees),children:[Object(C.jsx)("span",{children:"Set max employees in office"}),Object(C.jsx)("input",{type:"number",min:1,value:t.maxValue,onChange:function(e){return d(Number(null===e||void 0===e?void 0:e.target.value))}})]}),Object(C.jsxs)("section",{className:Object(x.a)(Z.a.section_wrapper,Z.a.section_wrapper_notice),children:[Object(C.jsx)("h3",{children:"Notice"}),Object(C.jsxs)("div",{className:Z.a.example_wrapper,children:[Object(C.jsxs)("div",{className:Z.a.example_item,children:[Object(C.jsx)("div",{className:Z.a.examle_empty}),Object(C.jsx)("span",{children:"office"})]}),Object(C.jsxs)("div",{className:Z.a.example_item,children:[Object(C.jsx)("div",{className:Z.a.examle_empty,children:Object(C.jsx)("div",{className:Z.a.examle_full})}),Object(C.jsx)("span",{children:"remote"})]})]}),Object(C.jsx)("p",{children:"You can change statuses of one employee in a few days at once by click holding 'Ctrl' button for Windows and Linux or 'Command' for MacOs"})]})]})]})},te=Object(a.memo)(ee);n(46);var ne=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(te,{})})},ae=Object(u.a)(),ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,re=Object(l.d)(p,ce(Object(l.a)(ae)));ae.run(M),o.a.render(Object(C.jsx)(s.a,{store:re,children:Object(C.jsx)(ne,{})}),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.33a8ed51.chunk.js.map